---
phase: 03-blog-template-system
plan: 02
type: execute
depends_on: ["03-01"]
files_modified: [src/index.njk, src/_includes/category.njk, src/categories/electronics.njk]
---

<objective>
Update homepage to list posts and create category page structure.

Purpose: Enable content discovery through homepage post listing and category filtering.
Output: Index page showing recent posts, category template, and sample category page.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-blog-template-system/03-01-SUMMARY.md
@src/_includes/base.njk
@src/index.njk

**Tech stack available:** 11ty, Nunjucks
**Established patterns:**
- Posts collection via tags: posts in posts.json
- Layouts in src/_includes/
- Korean language site

**Constraining decisions:**
- Phase 02-03: Article schema conditional uses `"post" in layout`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update index.njk to list posts</name>
  <files>src/index.njk</files>
  <action>
Update index.njk to display list of recent posts:
- Keep existing layout: base.njk, title: 홈
- Add section for "최신 리뷰" (Latest Reviews)
- Loop through collections.posts (reversed for newest first)
- For each post: display title as link, date (formatted), brief description
- Handle empty collection gracefully (show message if no posts)
- Use semantic HTML: section, article, time elements
- Korean text for headings and empty state
  </action>
  <verify>npm run build succeeds, _site/index.html contains link to sample post</verify>
  <done>Index page lists posts with links, dates, descriptions</done>
</task>

<task type="auto">
  <name>Task 2: Create category template and sample category</name>
  <files>src/_includes/category.njk, src/categories/electronics.njk</files>
  <action>
Create category system:

1. src/_includes/category.njk - category layout:
   - Extends base.njk
   - Displays category title (from frontmatter)
   - Filters collections.posts by category tag
   - Lists posts matching the category
   - Korean text for empty state

2. src/categories/electronics.njk - sample category:
   - Uses layout: category.njk
   - Sets title: 전자제품 (Electronics)
   - Sets categoryTag: electronics
   - Update sample post to include category: electronics in frontmatter

This prepares structure for future category pages (가전, 생활용품, etc.)
  </action>
  <verify>npm run build succeeds, _site/categories/electronics/index.html exists and filters posts</verify>
  <done>Category template works, sample category page builds, post filtering functional</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Index page lists posts at _site/index.html
- [ ] Category template exists at src/_includes/category.njk
- [ ] Sample category page builds at _site/categories/electronics/index.html
- [ ] Category page filters posts correctly
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Homepage shows post listing
- Category system enables filtering by product type
</success_criteria>

<output>
After completion, create `.planning/phases/03-blog-template-system/03-02-SUMMARY.md`
</output>
