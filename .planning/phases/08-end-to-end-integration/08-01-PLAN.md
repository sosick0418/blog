---
phase: 08-end-to-end-integration
plan: 01
type: execute
depends_on: []
files_modified: [src/_data/products.json, src/posts/]
---

<objective>
Execute and verify the complete content pipeline from product data to live published post.

Purpose: Validate that all seven phases work together as an integrated system.
Output: One published post on the live site generated through the full pipeline.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-n8n-workflow-setup/06-02-SUMMARY.md
@.planning/phases/07-github-pages-deployment/07-02-SUMMARY.md
@scripts/orchestrate-content.js
@src/_data/products.json

**Tech stack available:**
- 11ty static site generator with Korean language support
- Gemini API for LLM content generation
- orchestrate-content.js for git automation
- GitHub Actions for CI/CD deployment
- GitHub Pages hosting at https://sosick0418.github.io/blog/

**Constraining decisions:**
- Phase 05: Graceful fallback to placeholder when LLM unavailable (05-03)
- Phase 06: --dry-run flag for testing, --skip-git for local tests (06-02)
- Phase 07: Site live at https://sosick0418.github.io/blog/ (07-02)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add test product to products.json</name>
  <files>src/_data/products.json</files>
  <action>Add a new test product entry with realistic Korean product data:
  - productId: "e2e-test-001"
  - name: "무선 블루투스 이어폰 프로" (Wireless Bluetooth Earphones Pro)
  - price: 49900
  - category: "electronics"
  - description: "고음질 무선 이어폰, 노이즈 캔슬링, 30시간 재생"
  - imageUrl: "https://via.placeholder.com/400x400.png?text=E2E+Test+Product"
  - affiliateUrl: "https://link.coupang.com/re/AFFSDP?lptag=TEST&pageKey=e2e-test-001"

  This product will be used for full pipeline testing. Keep existing products intact.</action>
  <verify>cat src/_data/products.json | grep "e2e-test-001" shows the new product</verify>
  <done>Test product exists in products.json with all required fields</done>
</task>

<task type="auto">
  <name>Task 2: Test orchestration script locally (skip-git mode)</name>
  <files>src/posts/</files>
  <action>Run the orchestration script with --skip-git and --no-llm to verify the post generation pipeline without external dependencies:

  ```bash
  node scripts/orchestrate-content.js --product-json '{"productId":"e2e-test-001","name":"무선 블루투스 이어폰 프로","price":49900,"category":"electronics","description":"고음질 무선 이어폰","affiliateUrl":"https://link.coupang.com/re/AFFSDP?lptag=TEST&pageKey=e2e-test-001"}' --skip-git --no-llm --verbose
  ```

  Verify JSON output has success: true and file path is returned.
  Check the generated markdown file exists and has correct frontmatter.</action>
  <verify>JSON output shows {"success": true, "file": "..."} and generated post exists in src/posts/</verify>
  <done>Orchestration script generates post file successfully in local-only mode</done>
</task>

<task type="auto">
  <name>Task 3: Run full pipeline with LLM and git (dry-run)</name>
  <files>src/posts/</files>
  <action>Run the orchestration script with LLM enabled but dry-run (skip push):

  ```bash
  node scripts/orchestrate-content.js --product-json '{"productId":"e2e-test-002","name":"프리미엄 무선 마우스","price":35900,"category":"electronics","description":"인체공학 디자인 무선 마우스","affiliateUrl":"https://link.coupang.com/re/AFFSDP?lptag=TEST&pageKey=e2e-test-002"}' --dry-run --verbose
  ```

  NOTE: This requires GEMINI_API_KEY to be configured. If not configured, the script will gracefully fall back to placeholder content.

  Verify:
  1. Post is generated with LLM content (or placeholder if API not configured)
  2. Git commit is created (check git log)
  3. No push occurs (dry-run mode)</action>
  <verify>JSON output shows success, git log -1 shows the commit, post file has Korean content</verify>
  <done>Full pipeline runs end-to-end in dry-run mode with git commit created</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Generated test post with full pipeline (dry-run mode)</what-built>
  <how-to-verify>
    1. Check generated post: ls -la src/posts/ (should show e2e-test-* posts)
    2. View post content: cat src/posts/e2e-test-002-*.md
    3. Verify git commit: git log -1 --oneline (should show post commit)
    4. Run local build: npm run build
    5. Start dev server: npm run dev
    6. Visit http://localhost:8080/ - verify new post appears in list
    7. Click post link - verify post page renders correctly with:
       - Korean title and content
       - Product info section
       - Affiliate link CTA button
  </how-to-verify>
  <resume-signal>Type "approved" to continue to full deployment test, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Test product added to products.json
- [ ] Orchestration script runs successfully in skip-git mode
- [ ] Full pipeline runs in dry-run mode with commit created
- [ ] Generated post renders correctly on local dev server
- [ ] Human verification of post quality approved
</verification>

<success_criteria>

- All tasks completed
- Orchestration script works in all modes (skip-git, dry-run, full)
- Generated posts have valid frontmatter and content
- Local build succeeds with test posts
- Ready for live deployment test in Plan 08-02
</success_criteria>

<output>
After completion, create `.planning/phases/08-end-to-end-integration/08-01-SUMMARY.md`
</output>
